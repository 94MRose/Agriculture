<!DOCTYPE html>
<html>

<head>
  <!-- Add Leaflet CSS and Javascript -->
 <!-- <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
 <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script> -->

 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>

<!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>

<!-- Add JQuery -->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>  

<link rel="stylesheet" href="CSS/storymap.css" />

<!-- Geometric Data -->
<script src='Data/TLBColorTest.geojson'></script>

</head>

<body>
<div id="map"></div>
  <script>
    var map = L.map('map').setView([44.7389, -78.3922], 8);

    L.tileLayer( 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    subdomains: ['a','b','c']
}).addTo( map );

    // map.setView([44.7389, -78.3922], 8);

    

    


    function getColor(val) {
        
        color = '#FFFFFF';
        max = val.Count1;
        if(val.Count2 > max){
            color = '#000';
            max = val.Count2;
        }
        console.log(max);
        return color;

            

    }

    function style(feature) {      
      return{
        fillColor: getColor(feature.properties),
        weight: 2,
        opacity: 1,
        color: 'black',
        fillOpacity: 0.7
      };
    }

    var geojson;


   








geojson = L.geoJson(TLB, {
    style: style
}).addTo(map);







  </script>
</body>

</html>